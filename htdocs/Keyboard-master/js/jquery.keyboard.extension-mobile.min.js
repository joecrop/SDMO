/* jQuery UI Virtual Keyboard for jQuery Mobile Themes v1.2 for keyboard v1.18+ (updated 6/1/2014)
 * By Rob Garrison ~ MIT license ~ https://github.com/Mottie/Keyboard */
;(function(d){d.fn.addMobile=function(f){var b,g={container:{theme:"b",cssClass:"ui-body"},input:{theme:"b",cssClass:""},buttonMarkup:{theme:"b",cssClass:"ui-btn",shadow:"true",corners:"true"},buttonHover:{theme:"b",cssClass:"ui-btn-hover"},buttonAction:{theme:"b",cssClass:"ui-btn-active"},buttonActive:{theme:"b",cssClass:"ui-btn-active"}};return this.each(function(){var a=d(this).data("keyboard");a&&"undefined"!==typeof d.fn.textinput&&(a.mobile_options=b=d.extend(!0,{},g,f),a.mobile_init=function(){d(".ui-keyboard-input").textinput(); a.options.alwaysOpen&&a.isVisible&&a.mobile_setup();a.$el.on("beforeVisible.keyboard",function(){a.$keyboard.css("visibility","hidden")}).on("visible.keyboard",function(){a.mobile_setup();a.$keyboard.css("visibility","visible");a.$preview.focus()})},a.mobile_setup=function(){var c;c=a.options;var e=b.buttonMarkup.cssClass||"",f=c.css.buttonAction;c.css.buttonAction+=" "+b.buttonAction.cssClass;a.$keyboard.addClass(a.modOptions(b.container,b.container)).find(".ui-keyboard-preview").addClass(a.modOptions(b.input, b.input)).end().removeClass("ui-widget ui-widget-content").find("."+f).addClass(a.modOptions(b.buttonAction,b.buttonMarkup)).end().find("button").removeClass("ui-corner-all ui-state-default").addClass(a.modOptions(b.buttonMarkup)).hover(function(){d(this).removeClass(e?e+"-"+b.buttonMarkup.theme:"").addClass(a.modOptions(b.buttonHover,b.buttonMarkup))},function(){d(this).removeClass(e?e+"-"+b.buttonHover.theme:"").addClass(a.modOptions(b.buttonMarkup,b.buttonMarkup))});a.msie&&a.$preview[0]!==a.el&& (a.$preview.hide(),a.$keyboard.css("width",""),a.width=a.$keyboard.outerWidth(),a.$keyboard.width(a.width+parseInt(a.$preview.css("fontSize"),10)),a.$preview.width(a.width),a.$preview.show());d.ui&&d.ui.position&&(c=c.position,c.of=c.of||a.$el.data("keyboardPosition")||a.$el,c.collision=c.collision||"flipfit flipfit",a.$keyboard.position(c))},a.modOptions=function(a,b){return" "+(a.cssClass||"")+" "+(b&&b.cssClass?b.cssClass+"-"+(a.theme||""):"")+("true"==a.shadow?" ui-shadow":"")+("true"==a.corners? " ui-corner-all":"")},a.mobile_init())})}})(jQuery);
